<app-toolbar></app-toolbar>
<div fxLayout="row" fxLayoutAlign="space-around" fxLayout.xs="column" id="content">
  <form id="locationForm" fxLayout="column" fxLayoutGap="10px">
    <mat-form-field>
      <input [(ngModel)]="location.name" matInput matTooltip="Enter location's name" name="name" placeholder="Name">
    </mat-form-field>
    <mat-checkbox matTooltip="Enable or disable location" [(ngModel)]="location.disabled" name="disabled">
      Disabled
    </mat-checkbox>
    <div id="mapDiv" *ngIf="this.initialized">
      <app-map [_latitude]="location.latitude" [_longitude]="location.longitude"
               [_zoom]="9"
               [_maxZoom]="13"
               [_mapName]="'location'" [_draggable]="true" (markerDrag)="updatePosition($event)"></app-map>
    </div>
    <span fxLayout="row" fxLayoutGap="10px">
    <button mat-raised-button type="button" routerLink="/dashboard/locations/preview">Cancel</button>
    <button mat-raised-button color="primary" type="submit" (click)="createOrEditLocation()">Save</button>
    </span>
  </form>
  <app-seat-groups id="sg" *ngIf="seatGroups.length > 0" [width]="600" [height]="500"
                   [_seatGroups]="seatGroups"></app-seat-groups>
  <form id="seatGroupForm" fxLayout="column" (submit)="addSeatGroup()">
    <mat-checkbox [formControl]="this.parterre" (change)="toggleParterre()">Parterre</mat-checkbox>
    <mat-form-field>
      <input matInput [formControl]="this.seatGroupName" type="text" placeholder="Seat group name" [required]="true">
    </mat-form-field>
    <mat-form-field>
      <mat-label>Number of rows</mat-label>
      <mat-select [formControl]="this.rowsNum" [required]="!this.parterre.value"
                  (selectionChange)="this.calculateTotalSeats()">
        <mat-option *ngFor="let item of makeArray(10); let i = index;" [value]="i+1">
          {{i + 1}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Number of columns</mat-label>
      <mat-select [formControl]="this.colsNum" [required]="!this.parterre.value"
                  (selectionChange)="this.calculateTotalSeats()">
        <mat-option *ngFor="let item of makeArray(10); let i = index;" [value]="i+1">
          {{i + 1}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <input matInput [formControl]="this.totalSeats" type="number" placeholder="Total seats"
             [required]="this.parterre.value" [readonly]="!this.parterre.value">
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit">Add</button>
  </form>
</div>
